{"version":3,"file":"app.js","sources":["../src/app/core/namespace.js","../src/app/layoutReady.js","../src/app/views/layout/DrawerToggle.js","../src/app/views/layout/PageProgress.js","../src/app/views/layout/initialize.js","../src/app/index.js"],"sourcesContent":["/**\n * Make read-only properties.\n *\n * @param {Object} object\n */\nconst namespace = (object) => {\n    Object.keys(object).forEach((key) => {\n        const prop = object[key];\n        const descriptor = Object.getOwnPropertyDescriptor(object, key);\n\n        Object.defineProperty(object, key, {\n            enumerable: true,\n            configurable: false,\n            writable: false,\n            value: descriptor.value\n        });\n\n        if (prop !== null && typeof prop === 'object' && prop.constructor === Object) {\n            namespace(prop);\n        }\n    });\n};\n\nexport default namespace;\n","let listeners = [];\nlet ready = false;\nconst elements = document.querySelectorAll('*[wc-hidden], *[wc-lazy], *[wc-ready]');\nconst promises = [];\n\nfor (const el of elements) {\n    promises.push(window.customElements.whenDefined(el.localName));\n}\n\nPromise.all(promises).then(() => {\n    ready = true;\n    listeners.forEach(listener => listener());\n    listeners = [];\n    document.body.classList.add('layout-ready');\n});\n\nexport default (listener) => {\n    if (typeof listener === 'function') {\n        if (ready) {\n            listener();\n        } else {\n            listeners.push(listener);\n        }\n    }\n};\n","import ElementView from 'element-view';\n\nexport default class DrawerToggle extends ElementView {\n    /**\n     * @inheritDoc\n     */\n    get events() {\n        return {\n            click: this._onClick,\n        }\n    }\n\n    /**\n     * @param {Event} event\n     * @private\n     */\n    _onClick(event) {\n        const id = event.target.getAttribute('data-drawer-id');\n\n        if (typeof id === 'string' && id.length > 0) {\n            const drawer = document.getElementById(id);\n\n            if (drawer !== null) {\n                drawer.toggle();\n            }\n        }\n    }\n}\n","import layoutReady from '../../layoutReady';\nimport ElementView from 'element-view';\n\nexport default class PageProgress extends ElementView {\n    /**\n     * @param {HTMLElement} htmlElement\n     */\n    constructor(htmlElement) {\n        super(htmlElement);\n\n        this.root.classList.add('active');\n        this._reset();\n\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => {\n                this._afterDomReady();\n            });\n        } else {\n            this._afterDomReady();\n        }\n\n        layoutReady(() => {\n            this._layoutReady = true;\n            this._loadUpdate();\n        });\n\n        window.addEventListener('beforeunload', () => {\n            this._reset();\n            this.root.classList.add('active');\n            this.root.value = 0;\n        });\n    }\n\n    /**\n     * @private\n     */\n    _reset() {\n        this._loaded = false;\n        this._docReady = false;\n        this._layoutReady = false;\n        this.root.value = 0;\n    }\n\n    /**\n     * @private\n     */\n    _loadUpdate() {\n        if (this._docReady && this._layoutReady) {\n            this.root.value = 100;\n            setTimeout(() => {\n                this.root.classList.remove('active');\n            }, 500);\n            this._loaded = true;\n        } else if (this._docReady || this._layoutReady) {\n            this.root.value = 40;\n        } else {\n            this.root.value = 0;\n        }\n    }\n\n    /**\n     * @private\n     */\n    _afterDomReady() {\n        this._docReady = true;\n        this._loadUpdate();\n    }\n}\n","import layoutReady from '../../layoutReady';\nimport DrawerToggle from './DrawerToggle';\nimport PageProgress from './PageProgress';\n\nconst initialize = () => {\n    layoutReady(() => {\n        const progress = document.querySelector('#page-progress');\n\n        if (progress !== null) {\n            new PageProgress(progress);\n        }\n\n        for (const el of document.querySelectorAll('*[wc-hidden], *[wc-lazy], *[wc-ready]')) {\n            el.classList.add('ready');\n        }\n\n        for (const el of document.querySelectorAll('.drawer-toggle')) {\n            new DrawerToggle(el);\n        }\n    });\n};\n\nexport default initialize;\n","import namespace from './core/namespace';\nimport initializeLayout from './views/layout/initialize';\n\ninitializeLayout();\n\nwindow.App = {};\n\nnamespace(window.App);\n"],"names":["namespace","object","Object","keys","forEach","key","prop","descriptor","getOwnPropertyDescriptor","defineProperty","enumerable","configurable","writable","value","constructor","listeners","ready","elements","document","querySelectorAll","promises","el","push","window","customElements","whenDefined","localName","Promise","all","then","listener","body","classList","add","DrawerToggle","event","id","target","getAttribute","length","drawer","getElementById","toggle","click","_onClick","ElementView","PageProgress","htmlElement","root","_reset","readyState","addEventListener","_afterDomReady","layoutReady","_layoutReady","_loadUpdate","_loaded","_docReady","setTimeout","remove","initialize","progress","querySelector","initializeLayout","App"],"mappings":"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"}
{"version":3,"file":"app.js","sources":["../src/app/core/namespace.js","../src/app/layoutReady.js","../src/app/views/layout/DrawerToggle.js","../src/app/views/layout/PageProgress.js","../src/app/views/FormBehavior.js","../src/app/views/layout/initialize.js","../src/app/index.js"],"sourcesContent":["/**\n * Make read-only properties.\n *\n * @param {Object} object\n */\nconst namespace = (object) => {\n    Object.keys(object).forEach((key) => {\n        const prop = object[key];\n        const descriptor = Object.getOwnPropertyDescriptor(object, key);\n\n        Object.defineProperty(object, key, {\n            enumerable: true,\n            configurable: false,\n            writable: false,\n            value: descriptor.value\n        });\n\n        if (prop !== null && typeof prop === 'object' && prop.constructor === Object) {\n            namespace(prop);\n        }\n    });\n};\n\nexport default namespace;\n","let listeners = [];\nlet ready = false;\nconst elements = document.querySelectorAll('*[wc-hidden], *[wc-lazy], *[wc-ready]');\nconst promises = [];\n\nfor (const el of elements) {\n    promises.push(window.customElements.whenDefined(el.localName));\n}\n\nPromise.all(promises).then(() => {\n    ready = true;\n    listeners.forEach(listener => listener());\n    listeners = [];\n    document.body.classList.add('layout-ready');\n});\n\nexport default (listener) => {\n    if (typeof listener === 'function') {\n        if (ready) {\n            listener();\n        } else {\n            listeners.push(listener);\n        }\n    }\n};\n","import ElementView from 'element-view';\n\nexport default class DrawerToggle extends ElementView {\n    /**\n     * @inheritDoc\n     */\n    get events() {\n        return {\n            click: this._onClick,\n        }\n    }\n\n    /**\n     * @param {Event} event\n     * @private\n     */\n    _onClick(event) {\n        const id = event.target.getAttribute('data-drawer-id');\n\n        if (typeof id === 'string' && id.length > 0) {\n            const drawer = document.getElementById(id);\n\n            if (drawer !== null) {\n                drawer.toggle();\n            }\n        }\n    }\n}\n","import layoutReady from '../../layoutReady';\nimport ElementView from 'element-view';\n\nexport default class PageProgress extends ElementView {\n    /**\n     * @param {HTMLElement} htmlElement\n     */\n    constructor(htmlElement) {\n        super(htmlElement);\n\n        this.root.classList.add('active');\n        this._reset();\n\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => {\n                this._afterDomReady();\n            });\n        } else {\n            this._afterDomReady();\n        }\n\n        layoutReady(() => {\n            this._layoutReady = true;\n            this._loadUpdate();\n        });\n\n        window.addEventListener('beforeunload', () => {\n            this._reset();\n            this.root.classList.add('active');\n            this.root.value = 0;\n        });\n    }\n\n    /**\n     * @private\n     */\n    _reset() {\n        this._loaded = false;\n        this._docReady = false;\n        this._layoutReady = false;\n        this.root.value = 0;\n    }\n\n    /**\n     * @private\n     */\n    _loadUpdate() {\n        if (this._docReady && this._layoutReady) {\n            setTimeout(() => {\n                this.root.value = 100;\n            }, 100);\n            setTimeout(() => {\n                this.root.classList.remove('active');\n            }, 1000);\n            this._loaded = true;\n        } else if (this._docReady || this._layoutReady) {\n            setTimeout(() => {\n                this.root.value = 40;\n            }, 100);\n        } else {\n            setTimeout(() => {\n                this.root.value = 0;\n            }, 100);\n        }\n    }\n\n    /**\n     * @private\n     */\n    _afterDomReady() {\n        this._docReady = true;\n        this._loadUpdate();\n    }\n}\n","import ElementView from 'element-view';\n\nexport default class FormBehavior extends ElementView {\n    /**\n     * @inheritDoc\n     */\n    get events() {\n        return {\n            'paper-input, input': {\n                keypress: this._onKeyPress,\n            },\n            '*[type=\"submit\"]': {\n                click: this._onButtonSubmit\n            }\n        };\n    }\n\n    /**\n     * @param {Event} event\n     * @private\n     */\n    _onKeyPress(event) {\n        if (event.keyCode === 13) {\n            this._root.submit();\n        }\n    }\n\n    /**\n     * @param {Event} event\n     * @private\n     */\n    _onButtonSubmit(event) {\n        const hidden = document.createElement('input');\n        hidden.hidden = true;\n        hidden.name = event.target.getAttribute('name');\n        hidden.value = '1';\n        event.target.parentElement.appendChild(hidden);\n\n        this._root.submit();\n    }\n}\n","import layoutReady from \"../../layoutReady\";\nimport DrawerToggle from \"./DrawerToggle\";\nimport PageProgress from \"./PageProgress\";\nimport FormBehavior from \"../FormBehavior\";\n\nconst initialize = () => {\n    layoutReady(() => {\n        const progress = document.querySelector('#page-progress');\n\n        if (progress !== null) {\n            new PageProgress(progress);\n        }\n\n        for (const el of document.querySelectorAll('*[wc-hidden], *[wc-lazy], *[wc-ready]')) {\n            el.classList.add('ready');\n        }\n\n        for (const el of document.querySelectorAll('.drawer-toggle')) {\n            new DrawerToggle(el);\n        }\n\n        for (const el of document.querySelectorAll('.form-behavior')) {\n            new FormBehavior(el);\n        }\n    });\n};\n\nexport default initialize;\n","import namespace from \"./core/namespace\";\nimport initializeLayout from \"./views/layout/initialize\";\nimport FormBehavior from \"./views/FormBehavior\";\n\ninitializeLayout();\n\nwindow.App = {\n    FormBehavior\n};\n\nnamespace(window.App);\n"],"names":["namespace","object","Object","keys","forEach","key","prop","descriptor","getOwnPropertyDescriptor","defineProperty","enumerable","configurable","writable","value","constructor","listeners","ready","elements","document","querySelectorAll","promises","el","push","window","customElements","whenDefined","localName","Promise","all","then","listener","body","classList","add","DrawerToggle","event","id","target","getAttribute","length","drawer","getElementById","toggle","click","_onClick","ElementView","PageProgress","htmlElement","root","_reset","readyState","addEventListener","_afterDomReady","layoutReady","_layoutReady","_loadUpdate","_loaded","_docReady","setTimeout","remove","FormBehavior","keyCode","_root","submit","hidden","createElement","name","parentElement","appendChild","keypress","_onKeyPress","_onButtonSubmit","initialize","progress","querySelector","initializeLayout","App"],"mappings":"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"}
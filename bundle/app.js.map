{"version":3,"file":"app.js","sources":["../src/app/core/namespace.js","../src/app/views/layout/DrawerToggle.js","../src/app/views/layout/PageProgress.js","../src/app/views/layout/initialize.js","../src/app/index.js"],"sourcesContent":["/**\n * Make read-only properties.\n *\n * @param {Object} object\n */\nconst namespace = (object) => {\n    Object.keys(object).forEach((key) => {\n        const prop = object[key];\n        const descriptor = Object.getOwnPropertyDescriptor(object, key);\n\n        Object.defineProperty(object, key, {\n            enumerable: true,\n            configurable: false,\n            writable: false,\n            value: descriptor.value\n        });\n\n        if (prop !== null && typeof prop === 'object' && prop.constructor === Object) {\n            namespace(prop);\n        }\n    });\n};\n\nexport default namespace;\n","import ElementView from 'element-view';\n\nexport default class DrawerToggle extends ElementView {\n    /**\n     * @inheritDoc\n     */\n    get events() {\n        return {\n            click: this._onClick,\n        }\n    }\n\n    /**\n     * @param {Event} event\n     * @private\n     */\n    _onClick(event) {\n        const id = event.target.getAttribute('data-drawer-id');\n\n        if (typeof id === 'string' && id.length > 0) {\n            const drawer = document.getElementById(id);\n\n            if (drawer !== null) {\n                drawer.toggle();\n            }\n        }\n    }\n}\n","import ElementView from 'element-view';\n\nexport default class PageProgress extends ElementView {\n    /**\n     * @param {HTMLElement} htmlElement\n     */\n    constructor(htmlElement) {\n        super(htmlElement);\n\n        this.root.classList.add('active');\n        this._reset();\n\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => {\n                this._afterDomReady();\n            });\n        } else {\n            this._afterDomReady();\n        }\n\n        WCReady(() => {\n            this._wcReady = true;\n            this._loadUpdate();\n        });\n\n        window.addEventListener('beforeunload', () => {\n            this._reset();\n            this.root.classList.add('active');\n            this.root.setAttribute('value', '5');\n        });\n    }\n\n    /**\n     * @private\n     */\n    _reset() {\n        this._loaded = false;\n        this._docReady = false;\n        this._wcReady = false;\n        this.root.setAttribute('value', '0');\n    }\n\n    /**\n     * @private\n     */\n    _loadUpdate() {\n        if (this._docReady && this._wcReady) {\n            this.root.setAttribute('value', '100');\n            setTimeout(() => {\n                this.root.classList.remove('active');\n            }, 500);\n            this._loaded = true;\n        } else if (this._docReady || this._wcReady) {\n            this.root.setAttribute('value', '40');\n        } else {\n            this.root.setAttribute('value', '0');\n        }\n    }\n\n    /**\n     * @private\n     */\n    _afterDomReady() {\n        this._docReady = true;\n        this._loadUpdate();\n    }\n}\n","import DrawerToggle from './DrawerToggle';\nimport PageProgress from './PageProgress';\n\nconst initialize = () => {\n    WCReady(() => {\n        const progress = document.querySelector('#page-progress');\n\n        if (progress !== null) {\n            new PageProgress(progress);\n        }\n\n        for (const el of document.querySelectorAll('*[wc-hidden], *[wc-lazy]')) {\n            el.classList.add('ready');\n        }\n\n        for (const el of document.querySelectorAll('.drawer-toggle')) {\n            new DrawerToggle(el);\n        }\n    });\n};\n\nexport default initialize;\n","import namespace from './core/namespace';\nimport initializeLayout from './views/layout/initialize';\n\ninitializeLayout();\n\nwindow.App = {};\n\nnamespace(window.App);\n"],"names":["namespace","object","Object","keys","forEach","key","prop","descriptor","getOwnPropertyDescriptor","defineProperty","enumerable","configurable","writable","value","constructor","DrawerToggle","event","id","target","getAttribute","length","drawer","document","getElementById","toggle","click","_onClick","ElementView","PageProgress","htmlElement","root","classList","add","_reset","readyState","addEventListener","_afterDomReady","WCReady","_wcReady","_loadUpdate","window","setAttribute","_loaded","_docReady","setTimeout","remove","initialize","progress","querySelector","querySelectorAll","el","initializeLayout","App"],"mappings":"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"}
{"version":3,"file":"app.js","sources":["../src/app/core/namespace.js","../src/app/views/layout/DrawerToggle.js","../src/app/views/layout/PageProgress.js","../src/app/views/layout/initialize.js","../src/app/index.js"],"sourcesContent":["/**\n * Make read-only properties.\n *\n * @param {Object} object\n */\nconst namespace = (object) => {\n    Object.keys(object).forEach((key) => {\n        const prop = object[key];\n        const descriptor = Object.getOwnPropertyDescriptor(object, key);\n\n        Object.defineProperty(object, key, {\n            enumerable: true,\n            configurable: false,\n            writable: false,\n            value: descriptor.value\n        });\n\n        if (prop !== null && typeof prop === 'object' && prop.constructor === Object) {\n            namespace(prop);\n        }\n    });\n};\n\nexport default namespace;\n","import ElementView from 'element-view';\n\nexport default class DrawerToggle extends ElementView {\n    /**\n     * @inheritDoc\n     */\n    get events() {\n        return {\n            click: this._onClick,\n        }\n    }\n\n    /**\n     * @param {Event} event\n     * @private\n     */\n    _onClick(event) {\n        const id = event.target.getAttribute('data-drawer-id');\n\n        if (typeof id === 'string' && id.length > 0) {\n            const drawer = document.getElementById(id);\n\n            if (drawer !== null) {\n                drawer.toggle();\n            }\n        }\n    }\n}\n","import ElementView from 'element-view';\n\nexport default class PageProgress extends ElementView {\n    /**\n     * @param {HTMLElement} htmlElement\n     */\n    constructor(htmlElement) {\n        super(htmlElement);\n\n        this.root.classList.add('active');\n        this._reset();\n\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => {\n                this._afterDomReady();\n            });\n        } else {\n            this._afterDomReady();\n        }\n\n        WCReady(() => {\n            this._wcReady = true;\n            this._loadUpdate();\n        });\n\n        window.addEventListener('beforeunload', () => {\n            this._reset();\n            this.root.classList.add('active');\n            this.root.setAttribute('value', '5');\n        });\n    }\n\n    /**\n     * @private\n     */\n    _reset() {\n        this._loaded = false;\n        this._docReady = false;\n        this._wcReady = false;\n        this.root.setAttribute('value', '0');\n    }\n\n    /**\n     * @private\n     */\n    _loadUpdate() {\n        if (this._docReady && this._wcReady) {\n            this.root.setAttribute('value', '100');\n            setTimeout(() => {\n                this.root.classList.remove('active');\n            }, 500);\n            this._loaded = true;\n        } else if (this._docReady || this._wcReady) {\n            this.root.setAttribute('value', '40');\n        } else {\n            this.root.setAttribute('value', '0');\n        }\n    }\n\n    /**\n     * @private\n     */\n    _afterDomReady() {\n        this._docReady = true;\n        this._loadUpdate();\n    }\n}\n","import DrawerToggle from './DrawerToggle';\nimport PageProgress from './PageProgress';\n\nconst initialize = () => {\n    WCReady(() => {\n        const progress = document.querySelector('#page-progress');\n\n        if (progress !== null) {\n            new PageProgress(progress);\n        }\n\n        for (const el of document.querySelectorAll('*[wc-hidden], *[wc-lazy]')) {\n            el.classList.add('ready');\n        }\n\n        for (const el of document.querySelectorAll('.drawer-toggle')) {\n            new DrawerToggle(el);\n        }\n    });\n};\n\nexport default initialize;\n","import namespace from './core/namespace';\nimport initializeLayout from './views/layout/initialize';\n\ninitializeLayout();\n\nwindow.App = {};\n\nnamespace(window.App);\n"],"names":["namespace","object","keys","forEach","key","prop","descriptor","Object","getOwnPropertyDescriptor","defineProperty","value","constructor","DrawerToggle","event","id","target","getAttribute","length","drawer","document","getElementById","toggle","_onClick","ElementView","PageProgress","htmlElement","root","classList","add","_reset","readyState","addEventListener","_afterDomReady","_wcReady","_loadUpdate","setAttribute","_loaded","_docReady","remove","initialize","progress","querySelector","querySelectorAll","el","initializeLayout","window","App"],"mappings":"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"}
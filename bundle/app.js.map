{"version":3,"file":"app.js","sources":["../src/app/core/namespace.js","../src/app/views/drawer-toggle.js","../src/app/views/page-progress.js","../src/app/views/html.js","../src/app/index.js"],"sourcesContent":["/**\n * Make read-only properties.\n *\n * @param {Object} object\n */\nconst namespace = (object) => {\n    Object.keys(object).forEach((key) => {\n        const prop = object[key];\n        const descriptor = Object.getOwnPropertyDescriptor(object, key);\n\n        Object.defineProperty(object, key, {\n            enumerable: true,\n            configurable: false,\n            writable: false,\n            value: descriptor.value\n        });\n\n        if (prop !== null && typeof prop === 'object' && prop.constructor === Object) {\n            namespace(prop);\n        }\n    });\n};\n\nexport default namespace;\n","import Mn from 'backbone.marionette';\nimport _ from 'underscore';\n\nexport default class DrawerToggle extends Mn.View {\n    template() {\n        return _.noop;\n    }\n    el() {\n        return '.drawer-toggle';\n    }\n    events() {\n        return {\n            'click': '_onClick',\n        }\n    }\n    /**\n     * @param {Event} e\n     * @private\n     */\n    _onClick(e) {\n        const id = e.target.getAttribute('data-drawer-id');\n\n        if (_.isString(id) && id.length > 0) {\n            const drawer = document.getElementById(id);\n\n            if (drawer) {\n                drawer.toggle();\n            }\n        }\n    }\n}\n","import Mn from 'backbone.marionette';\nimport _ from 'underscore';\nimport $ from 'jquery';\n\nexport default class PageProgress extends Mn.View {\n    initialize() {\n        this._reset();\n\n        $(document).ready(() => {\n            this._docReady = true;\n            this._loadUpdate();\n        });\n\n        WCReady(() => {\n            this._wcReady = true;\n            this._loadUpdate();\n        });\n\n        window.addEventListener('beforeunload', () => {\n            this._reset();\n            this.$el.addClass('active');\n            this.$el.attr('value', '5');\n        });\n    }\n    template() {\n        return _.noop;\n    }\n    el() {\n        return '#page-progress';\n    }\n    onRender() {\n        this.$el.addClass('active');\n    }\n    _reset() {\n        this._loaded = false;\n        this._docReady = false;\n        this._wcReady = false;\n        this.$el.attr('value', '0');\n    }\n    _loadUpdate() {\n        if (this._docReady && this._wcReady) {\n            this.$el.attr('value', '100');\n            setTimeout(() => {\n                this.$el.removeClass('active');\n            }, 500);\n            this._loaded = true;\n        } else if (this._docReady || this._wcReady) {\n            this.$el.attr('value', '40');\n        } else {\n            this.$el.attr('value', '0');\n        }\n    }\n}\n","import Mn from 'backbone.marionette';\nimport _ from 'underscore';\nimport DrawerToggle from './drawer-toggle';\nimport PageProgress from './page-progress';\nimport $ from 'jquery';\n\nexport default class Html extends Mn.View {\n    tagName() {\n        return 'html';\n    }\n    template() {\n        return _.noop;\n    }\n    onRender() {\n        WCReady(() => {\n            $('[wc-hidden], [wc-lazy]').addClass('ready');\n            new DrawerToggle().render();\n            new PageProgress().render();\n        });\n    }\n}\n","import namespace from './core/namespace';\nimport Html from './views/html';\n\nwindow.App = {};\n\nnamespace(window.App);\n\nnew Html().render();\n"],"names":["namespace","object","keys","forEach","key","prop","descriptor","Object","getOwnPropertyDescriptor","defineProperty","value","constructor","DrawerToggle","_","noop","e","id","target","getAttribute","isString","length","drawer","document","getElementById","toggle","Mn","View","PageProgress","_reset","ready","_docReady","_loadUpdate","_wcReady","addEventListener","$el","addClass","attr","_loaded","removeClass","Html","render","window","App"],"mappings":";;;;;;;AAAA;;;;;AAKA,IAAMA,YAAY,SAAZA,SAAY,CAACC,MAAD,EAAY;WACnBC,IAAP,CAAYD,MAAZ,EAAoBE,OAApB,CAA4B,UAACC,GAAD,EAAS;YAC3BC,OAAOJ,OAAOG,GAAP,CAAb;YACME,aAAaC,OAAOC,wBAAP,CAAgCP,MAAhC,EAAwCG,GAAxC,CAAnB;;eAEOK,cAAP,CAAsBR,MAAtB,EAA8BG,GAA9B,EAAmC;wBACnB,IADmB;0BAEjB,KAFiB;sBAGrB,KAHqB;mBAIxBE,WAAWI;SAJtB;;YAOIL,SAAS,IAAT,IAAiB,QAAOA,IAAP,qDAAOA,IAAP,OAAgB,QAAjC,IAA6CA,KAAKM,WAAL,KAAqBJ,MAAtE,EAA8E;sBAChEF,IAAV;;KAZR;CADJ;;ICFqBO;;;;;;;;;;mCACN;mBACAC,EAAEC,IAAT;;;;6BAEC;mBACM,gBAAP;;;;iCAEK;mBACE;yBACM;aADb;;;;;;;;;iCAQKC,GAAG;gBACFC,KAAKD,EAAEE,MAAF,CAASC,YAAT,CAAsB,gBAAtB,CAAX;;gBAEIL,EAAEM,QAAF,CAAWH,EAAX,KAAkBA,GAAGI,MAAH,GAAY,CAAlC,EAAqC;oBAC3BC,SAASC,SAASC,cAAT,CAAwBP,EAAxB,CAAf;;oBAEIK,MAAJ,EAAY;2BACDG,MAAP;;;;;;EAvB0BC,GAAGC;;ICCxBC;;;;;;;;;;qCACJ;;;iBACJC,MAAL;;cAEEN,QAAF,EAAYO,KAAZ,CAAkB,YAAM;uBACfC,SAAL,GAAiB,IAAjB;uBACKC,WAAL;aAFJ;;oBAKQ,YAAM;uBACLC,QAAL,GAAgB,IAAhB;uBACKD,WAAL;aAFJ;;mBAKOE,gBAAP,CAAwB,cAAxB,EAAwC,YAAM;uBACrCL,MAAL;uBACKM,GAAL,CAASC,QAAT,CAAkB,QAAlB;uBACKD,GAAL,CAASE,IAAT,CAAc,OAAd,EAAuB,GAAvB;aAHJ;;;;mCAMO;mBACAvB,EAAEC,IAAT;;;;6BAEC;mBACM,gBAAP;;;;mCAEO;iBACFoB,GAAL,CAASC,QAAT,CAAkB,QAAlB;;;;iCAEK;iBACAE,OAAL,GAAe,KAAf;iBACKP,SAAL,GAAiB,KAAjB;iBACKE,QAAL,GAAgB,KAAhB;iBACKE,GAAL,CAASE,IAAT,CAAc,OAAd,EAAuB,GAAvB;;;;sCAEU;;;gBACN,KAAKN,SAAL,IAAkB,KAAKE,QAA3B,EAAqC;qBAC5BE,GAAL,CAASE,IAAT,CAAc,OAAd,EAAuB,KAAvB;2BACW,YAAM;2BACRF,GAAL,CAASI,WAAT,CAAqB,QAArB;iBADJ,EAEG,GAFH;qBAGKD,OAAL,GAAe,IAAf;aALJ,MAMO,IAAI,KAAKP,SAAL,IAAkB,KAAKE,QAA3B,EAAqC;qBACnCE,GAAL,CAASE,IAAT,CAAc,OAAd,EAAuB,IAAvB;aADG,MAEA;qBACEF,GAAL,CAASE,IAAT,CAAc,OAAd,EAAuB,GAAvB;;;;;EA7C8BX,GAAGC;;ICExBa;;;;;;;;;;kCACP;mBACC,MAAP;;;;mCAEO;mBACA1B,EAAEC,IAAT;;;;mCAEO;oBACC,YAAM;kBACR,wBAAF,EAA4BqB,QAA5B,CAAqC,OAArC;oBACIvB,YAAJ,GAAmB4B,MAAnB;oBACIb,YAAJ,GAAmBa,MAAnB;aAHJ;;;;EAR0Bf,GAAGC;;ACHrCe,OAAOC,GAAP,GAAa,EAAb;;AAEA1C,UAAUyC,OAAOC,GAAjB;;AAEA,IAAIH,IAAJ,GAAWC,MAAX;;;;"}
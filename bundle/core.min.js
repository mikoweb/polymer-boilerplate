(function () {
'use strict';

(()=>{'use strict';if(!window.customElements)return;const a=window.HTMLElement,b=window.customElements.define,c=window.customElements.get,d=new Map,e=new Map;let f=!1,g=!1;window.HTMLElement=function(){if(!f){const a=d.get(this.constructor),b=c.call(window.customElements,a);g=!0;const e=new b;return e}f=!1;},window.HTMLElement.prototype=a.prototype;Object.defineProperty(window,'customElements',{value:window.customElements,configurable:!0,writable:!0}),Object.defineProperty(window.customElements,'define',{value:(c,h)=>{const i=h.prototype,j=class extends a{constructor(){super(),Object.setPrototypeOf(this,i),g||(f=!0,h.call(this)),g=!1;}},k=j.prototype;j.observedAttributes=h.observedAttributes,k.connectedCallback=i.connectedCallback,k.disconnectedCallback=i.disconnectedCallback,k.attributeChangedCallback=i.attributeChangedCallback,k.adoptedCallback=i.adoptedCallback,d.set(h,c),e.set(c,h),b.call(window.customElements,c,j);},configurable:!0,writable:!0}),Object.defineProperty(window.customElements,'get',{value:(a)=>e.get(a),configurable:!0,writable:!0});})();

/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

}());

!function(t){var e=t.babelHelpers={};e.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.jsx=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,u=arguments.length-3;if(n||0===u||(n={}),n&&i)for(var a in i)void 0===n[a]&&(n[a]=i[a]);else n||(n=i||{});if(1===u)n.children=o;else if(u>1){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+3];n.children=s}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),e.asyncIterator=function(t){if("function"==typeof Symbol){if(Symbol.asyncIterator){var e=t[Symbol.asyncIterator];if(null!=e)return e.call(t)}if(Symbol.iterator)return t[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},e.asyncGenerator=function(){function t(t){this.value=t}function e(e){function n(o,i){try{var u=e[o](i),a=u.value;a instanceof t?Promise.resolve(a.value).then(function(t){n("next",t)},function(t){n("throw",t)}):r(u.done?"return":"normal",u.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}(o=o.next)?n(o.key,o.arg):i=null}var o,i;this._invoke=function(t,e){return new Promise(function(r,u){var a={key:t,arg:e,resolve:r,reject:u,next:null};i?i=i.next=a:(o=i=a,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),e.asyncGeneratorDelegate=function(t,e){function n(n,r){return o=!0,r=new Promise(function(e){e(t[n](r))}),{done:!1,value:e(r)}}var r={},o=!1;return"function"==typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(t){return o?(o=!1,t):n("next",t)},"function"==typeof t.throw&&(r.throw=function(t){if(o)throw o=!1,t;return n("throw",t)}),"function"==typeof t.return&&(r.return=function(t){return n("return",t)}),r},e.asyncToGenerator=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var u=e[o](i),a=u.value}catch(t){return void n(t)}if(!u.done)return Promise.resolve(a).then(function(t){r("next",t)},function(t){r("throw",t)});t(a)}return r("next")})}},e.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),e.defineEnumerableProperties=function(t,e){for(var n in e){var r=e[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n,r)}return t},e.defaults=function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t},e.defineProperty=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},e.extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.get=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},e.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},e.instanceof=function(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e},e.interopRequireDefault=function(t){return t&&t.__esModule?t:{default:t}},e.interopRequireWildcard=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.newArrowCheck=function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")},e.objectDestructuringEmpty=function(t){if(null==t)throw new TypeError("Cannot destructure undefined")},e.objectWithoutProperties=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},e.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},e.selfGlobal=void 0===t?self:t,e.set=function t(e,n,r,o){var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var u=Object.getPrototypeOf(e);null!==u&&t(u,n,r,o)}else if("value"in i&&i.writable)i.value=r;else{var a=i.set;void 0!==a&&a.call(o,r)}return r},e.slicedToArray=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e.slicedToArrayLoose=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,r=[],o=t[Symbol.iterator]();!(n=o.next()).done&&(r.push(n.value),!e||r.length!==e););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},e.taggedTemplateLiteral=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))},e.taggedTemplateLiteralLoose=function(t,e){return t.raw=e,t},e.temporalRef=function(t,e,n){if(t===n)throw new ReferenceError(e+" is not defined - temporal dead zone");return t},e.temporalUndefined={},e.toArray=function(t){return Array.isArray(t)?t:Array.from(t)},e.toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}}("undefined"==typeof global?self:global),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.axios=e():t.axios=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){var e=new u(t),n=i(u.prototype.request,e);return o.extend(n,u.prototype,e),o.extend(n,e),n}var o=n(2),i=n(3),u=n(5),a=n(6),s=r(a);s.Axios=u,s.create=function(t){return r(o.merge(a,t))},s.Cancel=n(23),s.CancelToken=n(24),s.isCancel=n(20),s.all=function(t){return Promise.all(t)},s.spread=n(25),t.exports=s,t.exports.default=s},function(t,e,n){"use strict";function r(t){return"[object Array]"===f.call(t)}function o(t){return null!==t&&"object"==typeof t}function i(t){return"[object Function]"===f.call(t)}function u(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),r(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function a(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=a(e[n],t):e[n]=t}for(var e={},n=0,r=arguments.length;n<r;n++)u(arguments[n],t);return e}var s=n(3),c=n(4),f=Object.prototype.toString;t.exports={isArray:r,isArrayBuffer:function(t){return"[object ArrayBuffer]"===f.call(t)},isBuffer:c,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===f.call(t)},isFile:function(t){return"[object File]"===f.call(t)},isBlob:function(t){return"[object Blob]"===f.call(t)},isFunction:i,isStream:function(t){return o(t)&&i(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:a,extend:function(t,e,n){return u(e,function(e,r){t[r]=n&&"function"==typeof e?s(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function r(t){this.defaults=t,this.interceptors={request:new u,response:new u}}var o=n(6),i=n(2),u=n(17),a=n(18);r.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(o,this.defaults,{method:"get"},t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(t){r.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){r.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=r},function(t,e,n){"use strict";function r(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o=n(2),i=n(7),u={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(8):"undefined"!=typeof process&&(t=n(8)),t}(),transformRequest:[function(t,e){return i(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(t){a.headers[t]={}}),o.forEach(["post","put","patch"],function(t){a.headers[t]=o.merge(u)}),t.exports=a},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(2),o=n(9),i=n(12),u=n(13),a=n(14),s=n(10),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(15);t.exports=function(t){return new Promise(function(e,f){var l=t.data,p=t.headers;r.isFormData(l)&&delete p["Content-Type"];var h=new XMLHttpRequest,d="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||a(t.url)||(h=new window.XDomainRequest,d="onload",y=!0,h.onprogress=function(){},h.ontimeout=function(){}),t.auth){var v=t.auth.username||"",g=t.auth.password||"";p.Authorization="Basic "+c(v+":"+g)}if(h.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h[d]=function(){if(h&&(4===h.readyState||y)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?u(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:t,request:h};o(e,f,r),h=null}},h.onerror=function(){f(s("Network Error",t,null,h)),h=null},h.ontimeout=function(){f(s("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var m=n(16),b=(t.withCredentials||a(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;b&&(p[t.xsrfHeaderName]=b)}if("setRequestHeader"in h&&r.forEach(p,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete p[e]:h.setRequestHeader(e,t)}),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){h&&(h.abort(),f(t),h=null)}),void 0===l&&(l=null),h.send(l)})}},function(t,e,n){"use strict";var r=n(10);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";var r=n(11);t.exports=function(t,e,n,o,i){var u=new Error(t);return r(u,e,n,o,i)}},function(t,e){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(2);t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(o.isURLSearchParams(e))i=e.toString();else{var u=[];o.forEach(e,function(t,e){null!==t&&void 0!==t&&(o.isArray(t)&&(e+="[]"),o.isArray(t)||(t=[t]),o.forEach(t,function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),u.push(r(e)+"="+r(t))}))}),i=u.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(2),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,u={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(u[e]&&o.indexOf(e)>=0)return;u[e]="set-cookie"===e?(u[e]?u[e]:[]).concat([n]):u[e]?u[e]+", "+n:n}}),u):u}},function(t,e,n){"use strict";var r=n(2);t.exports=r.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return e=t(window.location.href),function(n){var o=r.isString(n)?t(n):n;return o.protocol===e.protocol&&o.host===e.host}}():function(){return!0}},function(t,e){"use strict";function n(){this.message="String contains an invalid character"}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(n.prototype=new Error).code=5,n.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,o,i=String(t),u="",a=0,s=r;i.charAt(0|a)||(s="=",a%1);u+=s.charAt(63&e>>8-a%1*8)){if((o=i.charCodeAt(a+=.75))>255)throw new n;e=e<<8|o}return u}},function(t,e,n){"use strict";var r=n(2);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,u){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===u&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";function r(){this.handlers=[]}var o=n(2);r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){o.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){"use strict";function r(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var o=n(2),i=n(19),u=n(20),a=n(6),s=n(21),c=n(22);t.exports=function(t){r(t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});return(t.adapter||a.adapter)(t).then(function(e){return r(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return u(e)||(r(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new o(t),e(n.reason))})}var o=n(23);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}}])}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Model=e()}(this,function(){function t(t,e){return e instanceof t}function e(t){return"function"==typeof t}function n(t){return"object"==typeof t}function r(t){return t&&n(t)&&Object.getPrototypeOf(t)===Object.prototype}function o(t){return Array.prototype.slice.call(t)}function i(t,e){return void 0===e?t:e}function u(t,e,n,o){for(var i in e||{})if(o||e.hasOwnProperty(i))if(n&&r(e[i])){var a={};u(a,t[i],n),u(a,e[i],n),t[i]=a}else t[i]=e[i]}function a(t,e,n,r){V(t,e,{value:n,enumerable:r,writable:!0,configurable:!0})}function s(t,e){Object.setPrototypeOf(t,e[D]),a(t,U,e)}function c(t,e){t[D]=Object.create(e),t[D][U]=t}function f(r,o){if((o=o||[]).length>15||o.indexOf(r)>=0)return"...";if(null==r)return String(r);if("string"==typeof r)return'"'+r+'"';if(t(l,r))return r.toString(o);if(o=[r].concat(o),e(r))return r.name||r.toString(o);if(t(Array,r))return"["+r.map(function(t){return f(t,o)}).join(", ")+"]";if(r.toString!==Object.prototype.toString)return r.toString();if(r&&n(r)){var i=new Array(o.length).join("\t"),u=Object.keys(r);return"{"+u.map(function(t){return"\n"+i+"\t"+t+": "+f(r[t],o)}).join(",")+(u.length?"\n"+i:"")+"}"}return String(r)}function l(t){if(r(t))return l[_](t);var e=function(t){return t=i(e[F],t),e[E](t),t};return p(e,arguments,l),e}function p(t,e,n){if(0===e.length)throw new Error("Model definition is required");s(t,n),t[x]=e[0],t[P]=t[P].slice(),a(t,B,[])}function h(e){if(r(e))Object.keys(e).forEach(function(t){e[t]=h(e[t])});else{if(!t(Array,e))return[e];if(1===e.length)return e.concat(void 0,null)}return e}function d(n,o,i,u,a,s){var c=u.indexOf(o);if(-1!==c&&-1!==u.slice(c+1).indexOf(o))return n;if(s&&(n=v(n,o)),t(l,o))o[C](n,i,u.concat(o),a);else if(r(o))Object.keys(o).forEach(function(t){d(null!=n?n[t]:void 0,o[t],i?i+"."+t:t,u,a)});else{for(var f=h(o),p=0,y=f.length;p<y;p++)if(function(n,o,i,u){if(null==n)return n===o;if(r(o)||t(l,o)){var a=[];return d(n,o,i,u,a),!a.length}if(t(RegExp,o))return o.test(n);if(o===Number||o===Date)return n[U]===o&&!isNaN(n);return n===o||e(o)&&t(o,n)||n[U]===o}(n,f[p],i,u))return n;var g={};g[M]=o,g[T]=n,g[R]=i,a.push(g)}return n}function y(t,n,r,o){for(var i=0,u=n[P].length;i<u;i++){var a,s=n[P][i],c=s[I],l=e(c)?c:function(t,e){return'assertion "'+c+'" returned '+f(t)+" for value "+f(e)};try{a=s.call(n,t)}catch(p){a=p}if(!0!==a){var p={};p[L]=l.call(n,a,t),p[M]=s,p[T]=t,p[R]=r,o.push(p)}}}function v(e,n){if(!e||t(l,e[U]))return e;for(var r=h(n||[]),o=[],i=0,u=r.length;i<u;i++){var a=r[i];t(l,a)&&a[A](e)&&o.push(a)}var s=o.length;return 1===s?o[0](e):(s>1&&console.warn("Ambiguous model for value "+f(e)+", could be "+o.join(" or ")),e)}function g(e,n,o,i){if(!r(o))return v(n,o);var u=t(Object,n)?n:{},a=Object.create(Object.getPrototypeOf(u));for(var s in u)!u.hasOwnProperty(s)||s in o||(a[s]=u[s]);return Object.keys(o).forEach(function(s){var c=i?i+"."+s:s,f=l[k](s),p=o[s];r(p)||!u[s]||t(l,u[s][U])||(u[s]=v(u[s],p)),V(a,s,{get:function(){return g(e,u[s],p,c)},set:function(t){if(f&&void 0!==u[s]){var r={};r[L]="cannot redefine constant "+s,e[B].push(r)}var o=g(e,t,p,c);d(o,p,c,[],e[B]);var i=u[s];u[s]=o,y(n,e,c,e[B]),e[B].length&&(u[s]=i,e[q]())},enumerable:!l[S](s)})}),a}function m(t,e,n,r){V(t,n,{enumerable:!0,get:function(){return e[n]},set:function(t){w(e,n,t,r)}})}function b(t,e,n,r){return function(){var o=t.slice();if(Array[D][e].apply(o,arguments),n[E](o),!K)for(var i in o)!o.hasOwnProperty(i)||i in r||m(r,t,i,n);for(var u=Array[D][e].apply(t,arguments),a=0,s=t.length;a<s;a++)t[a]=v(t[a],n[x]);return u}}function w(t,e,n,r){var o=O+"["+e+"]";parseInt(e)===+e&&e>=0&&(n=d(n,r[x],o,[],r[B],!0));var i=t.slice();i[e]=n,y(i,r,o,r[B]),r[q](),t[e]=n}var _="Object",O="Array",j="Function",k="conventionForConstant",S="conventionForPrivate",x="definition",P="assertions",I="_description",E="validate",C="_validator",A="test",M="expected",T="received",R="path",L="message",B="errorStack",N="errorCollector",q="unstack",D="prototype",U="constructor",F="default",H="arguments",J=["pop","push","reverse","shift","sort","splice","unshift"],z=/\n.*object-model(.|\n)*object-model.*/,K="function"==typeof Proxy,V=Object.defineProperty;"name"in Function.prototype&&"name"in function(){}||V(Function.prototype,"name",{get:function(){var t=Function.prototype.toString.call(this).match(/\s*function\s+([^\(\s]*)\s*/);return t&&t[1]}}),!Object.setPrototypeOf&&t(Array,{__proto__:[]})&&(Object.setPrototypeOf=function(t,e){return t.__proto__=e,t}),c(l,Function[D]);var X=l[D];X.toString=function(t){return h(this[x]).map(function(e){return f(e,t)}).join(" or ")},X[P]=[],X[E]=function(t,e){this[C](t,null,[],this[B]),this[q](e)},X[A]=function(t){var e,n=this[N];return this[N]=function(){e=!0},this(t),this[N]=n,!e},X.extend=function(){var r,i,a=o(this[P]),s=o(arguments);t(l[_],this)?(i={},u(r={},this[x]),u(i,this[D],!1,!0),s.forEach(function(o){t(l,o)&&u(r,o[x],!0),e(o)&&u(i,o[D],!0,!0),n(o)&&u(r,o,!0,!0)}),delete i.constructor):r=s.reduce(function(t,e){return t.concat(h(e))},h(this[x])).filter(function(t,e,n){return n.indexOf(t)===e}),s.forEach(function(e){t(l,e)&&(a=a.concat(e[P]))});var f=new this[U](r);return c(f,this[D]),u(f[D],i),f[P]=a,f[N]=this[N],f},X.assert=function(t,e){return e=e||f(t),a(t,I,e),this[P]=this[P].concat(t),this},X.defaultTo=function(t){return this[F]=t,this},X[N]=function(t){var e=new TypeError(t.map(function(t){return t[L]}).join("\n"));throw e.stack&&(e.stack=e.stack.replace(z,"")),e},l[k]=function(t){return t.toUpperCase()===t},l[S]=function(t){return"_"===t[0]},a(X,C,function(t,e,n,r){d(t,this[x],e,n,r),y(t,this,e,r)}),a(X,q,function(e){if(this[B].length){e||(e=this[N]);var n=this[B].map(function(e){if(!e[L]){var n=t(Array,e[M])?e[M]:[e[M]];e[L]="expecting "+(e[R]?e[R]+" to be ":"")+n.map(function(t){return f(t)}).join(" or ")+", got "+(null!=e[T]?function(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1]}(e[T])+" ":"")+f(e[T])}return e});this[B]=[],e.call(this,n)}}),c(l[_]=function(e){var n=function(e){if(t(n,e))return e;if(!t(n,this))return new n(e);u(this,e=i(n[F],e),!0);var r=g(n,this,n[x]);return n[E](r),r};return c(n,Object[D]),p(n,arguments,l[_]),n},X);var G=l[_][D];G.defaults=function(t){return u(this[D],t),this},G.toString=function(t){return f(this[x],t)},a(G,C,function(t,e,r,o){if(n(t))d(t,this[x],e,r,o);else{var i={};i[M]=this,i[T]=t,i[R]=e,o.push(i)}y(t,this,e,o)}),c(l[O]=function(t){var e=function(t){t=i(e[F],t);var n;if(e[E](t),K)n=new Proxy(t,{get:function(t,n){return n===U?e:J.indexOf(n)>=0?b(t,n,e):t[n]},set:function(t,n,r){w(t,n,r,e)},getPrototypeOf:function(){return e[D]}});else{n=Object.create(Array[D]);for(var r in t)t.hasOwnProperty(r)&&m(n,t,r,e);V(n,"length",{get:function(){return t.length}}),V(n,"toJSON",{value:function(){return t}}),J.forEach(function(r){a(n,r,b(t,r,e,n))}),s(n,e)}return n};return c(e,Array[D]),p(e,arguments,l[O]),e},l[D]);var W=l[O][D];W.toString=function(t){return O+" of "+f(this[x],t)},a(W,C,function(e,n,r,o){if(t(Array,e))for(var i=0,u=e.length;i<u;i++)e[i]=d(e[i],this[x],(n||O)+"["+i+"]",r,o,!0);else{var a={};a[M]=this,a[T]=e,a[R]=n,o.push(a)}y(e,this,n,o)}),c(l[j]=function(){var t=function(e){e=i(t[F],e);var n=t[x],r=function(){var r,i=[];if(u(i,n.defaults),u(i,o(arguments)),i.length>n[H].length){var a={};a[M]=f(e)+" to be called with "+n[H].length+" "+H,a[T]=i.length,t[B].push(a)}return n[H].forEach(function(e,n){i[n]=d(i[n],e,H+"["+n+"]",[],t[B],!0)}),y(i,t,H,t[B]),t[B].length||(r=e.apply(this,i),"return"in n&&(r=d(r,n.return,"return value",[],t[B],!0))),t[q](),r};return s(r,t),r};c(t,Function[D]);var e={};return e[H]=o(arguments),p(t,[e],l[j]),t},l[D]);var $=l[j][D];return $.toString=function(t){var e=j+"("+this[x][H].map(function(e){return f(e,t)}).join(",")+")";return"return"in this[x]&&(e+=" => "+f(this[x].return)),e},$.return=function(t){return this[x].return=t,this},$.defaults=function(){return this[x].defaults=o(arguments),this},a($,C,function(t,n,r,o){if(!e(t)){var i={};i[M]=j,i[T]=t,i[R]=n,o.push(i)}}),l}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("objectmodel"),require("axios")):"function"==typeof define&&define.amd?define(["objectmodel","axios"],e):t.modelPersist=e(t.Model,t.axios)}(this,function(t,e){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=(function(){function t(t){this.value=t}function e(e){function n(o,i){try{var u=e[o](i),a=u.value;a instanceof t?Promise.resolve(a.value).then(function(t){n("next",t)},function(t){n("throw",t)}):r(u.done?"return":"normal",u.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}(o=o.next)?n(o.key,o.arg):i=null}var o,i;this._invoke=function(t,e){return new Promise(function(r,u){var a={key:t,arg:e,resolve:r,reject:u,next:null};i?i=i.next=a:(o=i=a,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},a=function(){function t(e){if(r(this,t),null===e||"object"!==(void 0===e?"undefined":n(e)))throw new TypeError("expecting object literal");for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o])}return o(t,[{key:"toJSON",value:function(){return JSON.stringify(this)}}]),t}(),s=function(){function t(){r(this,t)}return o(t,[{key:"defineInterfaceMethod",value:function(){throw new Error("Class should implement this method")}}]),t}(),c=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,s),o(e,[{key:"locate",value:function(t){this.defineInterfaceMethod()}},{key:"locateById",value:function(t){this.defineInterfaceMethod()}},{key:"getIdPropName",value:function(){this.defineInterfaceMethod()}},{key:"getModelId",value:function(t){this.defineInterfaceMethod()}},{key:"isEmptyModelId",value:function(t){this.defineInterfaceMethod()}},{key:"getModelManagerClass",value:function(){this.defineInterfaceMethod()}},{key:"getRepositoryClass",value:function(){this.defineInterfaceMethod()}},{key:"getInputTransformerClass",value:function(){this.defineInterfaceMethod()}},{key:"getOutputTransformerClass",value:function(){this.defineInterfaceMethod()}}]),e}(),f=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,s),o(e,[{key:"get",value:function(t,e){this.defineInterfaceMethod()}},{key:"save",value:function(t){this.defineInterfaceMethod()}},{key:"remove",value:function(t){this.defineInterfaceMethod()}}]),e}(),l=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,s),o(e,[{key:"findOne",value:function(t){this.defineInterfaceMethod()}}]),e}(),p=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,s),o(e,[{key:"transform",value:function(t){this.defineInterfaceMethod()}}]),e}(),h=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,p),o(e,[{key:"transform",value:function(t){return t}}]),e}(),d=new(function(){function e(){r(this,e)}return o(e,[{key:"getData",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&!this.isModel(t))throw new TypeError("expecting model to be Model, got "+(void 0===t?"undefined":n(t)));var e={};if(this.isModel(t)){for(var r in t)if(t.hasOwnProperty(r)){"function"==typeof Object.getOwnPropertyDescriptor(t,r).get&&void 0!==t[r]&&(e[r]=this._getObjectValue(t,r))}}else if(this.isRawObject(t))for(var o in t)t.hasOwnProperty(o)&&(e[o]=this._getObjectValue(t,o));return e}},{key:"isModel",value:function(e){return null!==e&&"object"===(void 0===e?"undefined":n(e))&&(e instanceof t||"function"==typeof e.constructor&&e.constructor instanceof t)}},{key:"isRawObject",value:function(t){return null!==t&&"object"===(void 0===t?"undefined":n(t))&&t.constructor===Object}},{key:"_getObjectValue",value:function(t,e){var n=t[e];return this.isRawObject(n)||this.isModel(n)?this.getData(n,!0):n}}]),e}()),y=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,p),o(e,[{key:"transform",value:function(t){var e={};return d.isModel(t)?e=d.getData(t):(t instanceof a||d.isRawObject(t))&&(e=t),e}}]),e}(),v=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,c),o(e,[{key:"getIdPropName",value:function(){return"id"}},{key:"getModelId",value:function(t){if(null===t||"object"!==(void 0===t?"undefined":n(t)))throw new Error("argument is not Object");return t[this.getIdPropName()]}},{key:"isEmptyModelId",value:function(t){var e=this.getModelId(t);return null===e||void 0===e||"string"==typeof e&&0===e.length}},{key:"getInputTransformerClass",value:function(){return h}},{key:"getOutputTransformerClass",value:function(){return y}}]),e}(),g=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,f),o(e,[{key:"createInputTransformer",value:function(){return new(this._locator.getInputTransformerClass())}},{key:"createOutputTransformer",value:function(){return new(this._locator.getOutputTransformerClass())}}]),e}(),m=function(t){function e(t,n){r(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o._locator=t,o._client=n,o}return i(e,g),o(e,[{key:"get",value:function(t,e){var n=this;return new Promise(function(r,o){n._client.get(n._locator.locateById(t),n._getRequestOptions()).then(function(t){r(new e(n.createInputTransformer().transform(t.data)))}).catch(function(t){o(t)})})}},{key:"save",value:function(t){var e=this;return new Promise(function(r,o){var i=e._getRequestOptions({data:e.createOutputTransformer().transform(t)});(e._locator.isEmptyModelId(t)?e._client.post:e._client.put)(e._locator.locate(t),i).then(function(t){r(null!==t.data&&"object"===n(t.data)?t.data:{})}).catch(function(t){o(t)})})}},{key:"remove",value:function(t){var e=this;return new Promise(function(r,o){e._client.delete(e._locator.locate(t),e._getRequestOptions()).then(function(t){r(null!==t.data&&"object"===n(t.data)?t.data:{})}).catch(function(t){o(t)})})}},{key:"_getRequestOptions",value:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}]),e}(),b=function(t){function e(t,n,o,i){r(this,e);var a=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a._modelClass=t,a._locator=n,a._manager=o,a._client=i,a}return i(e,l),o(e,[{key:"findOne",value:function(t){return this._manager.get(t,this._modelClass)}}]),e}(),w=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,v),o(e,[{key:"getBaseURL",value:function(){return""+this.hostPath+this.basePath}},{key:"getUrl",value:function(t){return""+this.getBaseURL()+t}},{key:"locate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isEmptyModelId(t)?this.getBaseURL():this.locateById(this.getModelId(t),e)}},{key:"locateById",value:function(t){return this.getUrl("/"+t)}},{key:"getModelManagerClass",value:function(){return m}},{key:"getRepositoryClass",value:function(){return b}},{key:"hostPath",get:function(){return""}},{key:"basePath",get:function(){throw new Error("basePath should be defined in HTTPLocator")}},{key:"headers",get:function(){return{}}}]),e}(),_=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,s),o(e,[{key:"createManager",value:function(t){this.defineInterfaceMethod()}},{key:"createRepository",value:function(t,e){this.defineInterfaceMethod()}}]),e}(),O=new(function(){function t(){r(this,t),this.options={}}return o(t,[{key:"options",get:function(){return Object.assign({},this._options)},set:function(t){this._options=Object.assign({},t)}}]),t}()),j=function(t){var r={};return null!==t&&"object"===(void 0===t?"undefined":n(t))&&Object.keys(t.headers).length>0&&(r.headers=Object.assign({},t.headers)),e.create(Object.assign({},O.options,r))},k=new(function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,_),o(e,[{key:"createManager",value:function(t){return new(t.getModelManagerClass())(t,j(t))}},{key:"createRepository",value:function(t,e){return new(e.getRepositoryClass())(t,e,this.createManager(e),j(e))}}]),e}()),S=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,p),e}(),x=function(e){function n(t){r(this,n);var e=u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e._locator=t,e}return i(n,g),o(n,[{key:"get",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(o,i){try{o(n.getSync(t,e,r))}catch(t){i(t)}})}},{key:"getSync",value:function(t,e){var n=this._locator.locateById(t),r=this._locator.storage.getItem(n);if(null===r)throw new TypeError("Item with the key ["+n+"] was not found");return new e(this.createInputTransformer().transform(JSON.parse(r)))}},{key:"getAll",value:function(e){var n=this,r=new t.Array(e),o=[];return this.getKeys().forEach(function(t){o.push(n.getSync(t,e))}),r(o)}},{key:"save",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r,o){try{e.saveSync(t,n),r({})}catch(t){o(t)}})}},{key:"saveSync",value:function(t){this._locator.storage.setItem(this._locator.locate(t),JSON.stringify(this.createOutputTransformer().transform(t))),this._persistId(this._locator.getModelId(t))}},{key:"remove",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r,o){try{e.removeSync(t,n),r({})}catch(t){o(t)}})}},{key:"removeSync",value:function(t){this._locator.storage.removeItem(this._locator.locate(t)),this._removeId(this._locator.getModelId(t))}},{key:"has",value:function(t){return null!==this._locator.storage.getItem(this._locator.locateById(t))}},{key:"getKeys",value:function(){var t=this,e=[],n=this._locator.storage.getItem(this._getIdsKey());if(null!==n){var r=void 0;try{r=JSON.parse(n)}catch(t){r=[]}Array.isArray(r)&&r.forEach(function(n){null!==n&&t.has(n)&&"function"==typeof n.toString&&-1===e.indexOf(n.toString())&&e.push(n.toString())})}return e}},{key:"_getIdsKey",value:function(){return"__ids__"+this._locator.basePath}},{key:"_persistId",value:function(t){if(null!==t&&this.has(t)&&"function"==typeof t.toString){var e=this.getKeys();-1===e.indexOf(t.toString())&&(e.push(t.toString()),this._locator.storage.setItem(this._getIdsKey(),JSON.stringify(e)))}}},{key:"_removeId",value:function(t){var e=this.getKeys().filter(function(e){return e.toString()!==t.toString()});this._locator.storage.setItem(this._getIdsKey(),JSON.stringify(e))}}]),n}(),P=function(t){function e(t,n,o){r(this,e);var i=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i._modelClass=t,i._locator=n,i._manager=o,i}return i(e,l),o(e,[{key:"findOne",value:function(t){return this._manager.get(t,this._modelClass)}},{key:"findOneSync",value:function(t){return this._manager.getSync(t,this._modelClass)}},{key:"getAll",value:function(){return this._manager.getAll(this._modelClass)}}]),e}(),I=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,v),o(e,[{key:"locate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isEmptyModelId(t))throw new Error("Model Id cannot be empty in StorageLocator");return this.locateById(this.getModelId(t),e)}},{key:"locateById",value:function(t){return this.basePath+"/"+t}},{key:"getModelManagerClass",value:function(){return x}},{key:"getRepositoryClass",value:function(){return P}},{key:"storage",get:function(){throw new Error("storage should be defined in StorageLocator")}},{key:"basePath",get:function(){throw new Error("basePath should be defined in StorageLocator")}}]),e}(),E=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,I),o(e,[{key:"storage",get:function(){return localStorage}}]),e}(),C=function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,I),o(e,[{key:"storage",get:function(){return sessionStorage}}]),e}(),A=new(function(t){function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,_),o(e,[{key:"createManager",value:function(t){return new(t.getModelManagerClass())(t)}},{key:"createRepository",value:function(t,e){return new(e.getRepositoryClass())(t,e,this.createManager(e))}}]),e}()),M={Interface:s,Model:t,DynamicModel:a,modelHelpers:d,LocatorInterface:c,ModelManagerInterface:f,RepositoryInterface:l,LocatorAbstract:v,ModelManagerAbstract:g,HTTPLocatorAbstract:w,HTTPModelManager:m,HTTPRepository:b,httpFactory:k,StorageLocatorAbstract:I,LocalStorageLocatorAbstract:E,SessionStorageLocatorAbstract:C,StorageModelManager:x,StorageRepository:P,storageFactory:A,http:{createClient:j,config:O},transformer:{TransformerInterface:p,InputTransformer:h,OutputTransformer:y,CustomTransformer:S,mergeTransformers:function(t){return function(e){function n(){return r(this,n),u(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,p),o(n,[{key:"transform",value:function(e){var n=e;return t.forEach(function(t){n=t.transform(n)}),n}}]),n}()}}};return function t(e){Object.keys(e).forEach(function(r){var o=e[r],i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(e,r,{enumerable:!0,configurable:!1,writable:!1,value:i.value}),null!==o&&"object"===(void 0===o?"undefined":n(o))&&o.constructor===Object&&t(o)})}(M),M}),function(t){var e=!1,n=[];t.addEventListener("WebComponentsReady",function r(){e=!0,n.forEach(function(t){t()}),n=[],t.removeEventListener("WebComponentsReady",r)}),t.WCReady=function(t){"function"==typeof t&&(e?t():n.push(t))}}(window);
//# sourceMappingURL=core.min.js.map

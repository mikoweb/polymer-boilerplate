(function () {
'use strict';

(()=>{'use strict';if(!window.customElements)return;const a=window.HTMLElement,b=window.customElements.define,c=window.customElements.get,d=new Map,e=new Map;let f=!1,g=!1;window.HTMLElement=function(){if(!f){const a=d.get(this.constructor),b=c.call(window.customElements,a);g=!0;const e=new b;return e}f=!1;},window.HTMLElement.prototype=a.prototype;Object.defineProperty(window,'customElements',{value:window.customElements,configurable:!0,writable:!0}),Object.defineProperty(window.customElements,'define',{value:(c,h)=>{const i=h.prototype,j=class extends a{constructor(){super(),Object.setPrototypeOf(this,i),g||(f=!0,h.call(this)),g=!1;}},k=j.prototype;j.observedAttributes=h.observedAttributes,k.connectedCallback=i.connectedCallback,k.disconnectedCallback=i.disconnectedCallback,k.attributeChangedCallback=i.attributeChangedCallback,k.adoptedCallback=i.adoptedCallback,d.set(h,c),e.set(c,h),b.call(window.customElements,c,j);},configurable:!0,writable:!0}),Object.defineProperty(window.customElements,'get',{value:(a)=>e.get(a),configurable:!0,writable:!0});})();

/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

}());

!function(t){var e=t.babelHelpers={};e.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.jsx=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,u=arguments.length-3;if(n||0===u||(n={}),n&&i)for(var a in i)void 0===n[a]&&(n[a]=i[a]);else n||(n=i||{});if(1===u)n.children=o;else if(u>1){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+3];n.children=s}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),e.asyncIterator=function(t){if("function"==typeof Symbol){if(Symbol.asyncIterator){var e=t[Symbol.asyncIterator];if(null!=e)return e.call(t)}if(Symbol.iterator)return t[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},e.asyncGenerator=function(){function t(t){this.value=t}function e(e){var n,r;function o(n,r){try{var u=e[n](r),a=u.value;a instanceof t?Promise.resolve(a.value).then(function(t){o("next",t)},function(t){o("throw",t)}):i(u.done?"return":"normal",u.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(t,e){return new Promise(function(i,u){var a={key:t,arg:e,resolve:i,reject:u,next:null};r?r=r.next=a:(n=r=a,o(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),e.asyncGeneratorDelegate=function(t,e){var n={},r=!1;function o(n,o){return r=!0,o=new Promise(function(e){e(t[n](o))}),{done:!1,value:e(o)}}return"function"==typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(t){return r?(r=!1,t):o("next",t)},"function"==typeof t.throw&&(n.throw=function(t){if(r)throw r=!1,t;return o("throw",t)}),"function"==typeof t.return&&(n.return=function(t){return o("return",t)}),n},e.asyncToGenerator=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var u=e[o](i),a=u.value}catch(t){return void n(t)}if(!u.done)return Promise.resolve(a).then(function(t){r("next",t)},function(t){r("throw",t)});t(a)}return r("next")})}},e.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),e.defineEnumerableProperties=function(t,e){for(var n in e){var r=e[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n,r)}return t},e.defaults=function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t},e.defineProperty=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},e.extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.get=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},e.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},e.instanceof=function(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e},e.interopRequireDefault=function(t){return t&&t.__esModule?t:{default:t}},e.interopRequireWildcard=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.newArrowCheck=function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")},e.objectDestructuringEmpty=function(t){if(null==t)throw new TypeError("Cannot destructure undefined")},e.objectWithoutProperties=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},e.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},e.selfGlobal=void 0===t?self:t,e.set=function t(e,n,r,o){var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var u=Object.getPrototypeOf(e);null!==u&&t(u,n,r,o)}else if("value"in i&&i.writable)i.value=r;else{var a=i.set;void 0!==a&&a.call(o,r)}return r},e.slicedToArray=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e.slicedToArrayLoose=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,r=[],o=t[Symbol.iterator]();!(n=o.next()).done&&(r.push(n.value),!e||r.length!==e););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},e.taggedTemplateLiteral=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))},e.taggedTemplateLiteralLoose=function(t,e){return t.raw=e,t},e.temporalRef=function(t,e,n){if(t===n)throw new ReferenceError(e+" is not defined - temporal dead zone");return t},e.temporalUndefined={},e.toArray=function(t){return Array.isArray(t)?t:Array.from(t)},e.toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}}("undefined"==typeof global?self:global),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.axios=e():t.axios=e()}(this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";var r=n(2),o=n(3),i=n(5),u=n(6);function a(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var s=a(u);s.Axios=i,s.create=function(t){return a(r.merge(u,t))},s.Cancel=n(23),s.CancelToken=n(24),s.isCancel=n(20),s.all=function(t){return Promise.all(t)},s.spread=n(25),t.exports=s,t.exports.default=s},function(t,e,n){"use strict";var r=n(3),o=n(4),i=Object.prototype.toString;function u(t){return"[object Array]"===i.call(t)}function a(t){return null!==t&&"object"==typeof t}function s(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),u(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function f(){var t={};function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=f(t[n],e):t[n]=e}for(var n=0,r=arguments.length;n<r;n++)c(arguments[n],e);return t}t.exports={isArray:u,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:s,isStream:function(t){return a(t)&&s(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:f,extend:function(t,e,n){return c(e,function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e){t.exports=function(t){return null!=t&&(n(t)||(e=t,"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0)))||!!t._isBuffer);var e};function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(6),o=n(2),i=n(17),u=n(18);function a(t){this.defaults=t,this.interceptors={request:new i,response:new i}}a.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,this.defaults,{method:"get"},t)).method=t.method.toLowerCase();var e=[u,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=a},function(t,e,n){"use strict";var r=n(2),o=n(7),i={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(8):"undefined"!=typeof process&&(t=n(8)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(u(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){a.headers[t]={}}),r.forEach(["post","put","patch"],function(t){a.headers[t]=r.merge(i)}),t.exports=a},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(2),o=n(9),i=n(12),u=n(13),a=n(14),s=n(10),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(15);t.exports=function(t){return new Promise(function(e,f){var l=t.data,h=t.headers;r.isFormData(l)&&delete h["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||a(t.url)||(p=new window.XDomainRequest,d="onload",y=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var v=t.auth.username||"",g=t.auth.password||"";h.Authorization="Basic "+c(v+":"+g)}if(p.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[d]=function(){if(p&&(4===p.readyState||y)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:t,request:p};o(e,f,r),p=null}},p.onerror=function(){f(s("Network Error",t,null,p)),p=null},p.ontimeout=function(){f(s("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var m=n(16),b=(t.withCredentials||a(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;b&&(h[t.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(h,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete h[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),f(t),p=null)}),void 0===l&&(l=null),p.send(l)})}},function(t,e,n){"use strict";var r=n(10);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";var r=n(11);t.exports=function(t,e,n,o,i){var u=new Error(t);return r(u,e,n,o,i)}},function(t,e){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";var r=n(2);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var u=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),u.push(o(e)+"="+o(t))}))}),i=u.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(2),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,u={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(u[e]&&o.indexOf(e)>=0)return;u[e]="set-cookie"===e?(u[e]?u[e]:[]).concat([n]):u[e]?u[e]+", "+n:n}}),u):u}},function(t,e,n){"use strict";var r=n(2);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}(r.prototype=new Error).code=5,r.prototype.name="InvalidCharacterError";t.exports=function(t){for(var e,o,i=String(t),u="",a=0,s=n;i.charAt(0|a)||(s="=",a%1);u+=s.charAt(63&e>>8-a%1*8)){if((o=i.charCodeAt(a+=.75))>255)throw new r;e=e<<8|o}return u}},function(t,e,n){"use strict";var r=n(2);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,u){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===u&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(2);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";var r=n(2),o=n(19),i=n(20),u=n(6),a=n(21),s=n(22);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){c(t),t.baseURL&&!a(t.url)&&(t.url=s(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});return(t.adapter||u.adapter)(t).then(function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,n){"use strict";var r=n(23);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}}])}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Model=e()}(this,function(){var t="Object",e="Array",n="Function",r="conventionForConstant",o="conventionForPrivate",i="definition",u="assertions",a="_description",s="validate",c="_validator",f="test",l="expected",h="received",p="path",d="message",y="errorStack",v="errorCollector",g="unstack",m="prototype",b="constructor",w="default",_="arguments",O=["pop","push","reverse","shift","sort","splice","unshift"],j=/\n.*object-model(.|\n)*object-model.*/,k="function"==typeof Proxy,S=Object.defineProperty;"name"in Function.prototype&&"name"in function(){}||S(Function.prototype,"name",{get:function(){var t=Function.prototype.toString.call(this).match(/\s*function\s+([^\(\s]*)\s*/);return t&&t[1]}}),!Object.setPrototypeOf&&x(Array,{__proto__:[]})&&(Object.setPrototypeOf=function(t,e){return t.__proto__=e,t});function x(t,e){return e instanceof t}function P(t){return"function"==typeof t}function E(t){return"object"==typeof t}function I(t){return t&&E(t)&&Object.getPrototypeOf(t)===Object.prototype}function M(t){return Array.prototype.slice.call(t)}function C(t,e){return void 0===e?t:e}function A(t,e,n,r){for(var o in e||{})if(r||e.hasOwnProperty(o))if(n&&I(e[o])){var i={};A(i,t[o],n),A(i,e[o],n),t[o]=i}else t[o]=e[o]}function T(t,e,n,r){S(t,e,{value:n,enumerable:r,writable:!0,configurable:!0})}function R(t,e){Object.setPrototypeOf(t,e[m]),T(t,b,e)}function L(t,e){t[m]=Object.create(e),t[m][b]=t}function D(t,e){if((e=e||[]).length>15||e.indexOf(t)>=0)return"...";if(null==t)return String(t);if("string"==typeof t)return'"'+t+'"';if(x(N,t))return t.toString(e);if(e=[t].concat(e),P(t))return t.name||t.toString(e);if(x(Array,t))return"["+t.map(function(t){return D(t,e)}).join(", ")+"]";if(t.toString!==Object.prototype.toString)return t.toString();if(t&&E(t)){var n=new Array(e.length).join("\t"),r=Object.keys(t);return"{"+r.map(function(r){return"\n"+n+"\t"+r+": "+D(t[r],e)}).join(",")+(r.length?"\n"+n:"")+"}"}return String(t)}function N(e){if(I(e))return N[t](e);var n=function(t){return t=C(n[w],t),n[s](t),t};return q(n,arguments,N),n}L(N,Function[m]);var B=N[m];B.toString=function(t){return F(this[i]).map(function(e){return D(e,t)}).join(" or ")},B[u]=[],B[s]=function(t,e){this[c](t,null,[],this[y]),this[g](e)},B[f]=function(t){var e,n=this[v];return this[v]=function(){e=!0},this(t),this[v]=n,!e},B.extend=function(){var e,n,r=M(this[u]),o=M(arguments);x(N[t],this)?(n={},A(e={},this[i]),A(n,this[m],!1,!0),o.forEach(function(t){x(N,t)&&A(e,t[i],!0),P(t)&&A(n,t[m],!0,!0),E(t)&&A(e,t,!0,!0)}),delete n.constructor):e=o.reduce(function(t,e){return t.concat(F(e))},F(this[i])).filter(function(t,e,n){return n.indexOf(t)===e}),o.forEach(function(t){x(N,t)&&(r=r.concat(t[u]))});var a=new this[b](e);return L(a,this[m]),A(a[m],n),a[u]=r,a[v]=this[v],a},B.assert=function(t,e){return e=e||D(t),T(t,a,e),this[u]=this[u].concat(t),this},B.defaultTo=function(t){return this[w]=t,this},B[v]=function(t){var e=new TypeError(t.map(function(t){return t[d]}).join("\n"));throw e.stack&&(e.stack=e.stack.replace(j,"")),e},N[r]=function(t){return t.toUpperCase()===t},N[o]=function(t){return"_"===t[0]},T(B,c,function(t,e,n,r){U(t,this[i],e,n,r),z(t,this,e,r)}),T(B,g,function(t){if(this[y].length){t||(t=this[v]);var e=this[y].map(function(t){if(!t[d]){var e=x(Array,t[l])?t[l]:[t[l]];t[d]="expecting "+(t[p]?t[p]+" to be ":"")+e.map(function(t){return D(t)}).join(" or ")+", got "+(null!=t[h]?(n=t[h],{}.toString.call(n).match(/\s([a-zA-Z]+)/)[1]+" "):"")+D(t[h])}var n;return t});this[y]=[],t.call(this,e)}});function q(t,e,n){if(0===e.length)throw new Error("Model definition is required");R(t,n),t[i]=e[0],t[u]=t[u].slice(),T(t,y,[])}function F(t){if(I(t))Object.keys(t).forEach(function(e){t[e]=F(t[e])});else{if(!x(Array,t))return[t];if(1===t.length)return t.concat(void 0,null)}return t}function U(t,e,n,r,o,i){var u=r.indexOf(e);if(-1!==u&&-1!==r.slice(u+1).indexOf(e))return t;if(i&&(t=J(t,e)),x(N,e))e[c](t,n,r.concat(e),o);else if(I(e))Object.keys(e).forEach(function(i){U(null!=t?t[i]:void 0,e[i],n?n+"."+i:i,r,o)});else{for(var a=F(e),s=0,f=a.length;s<f;s++)if(H(t,a[s],n,r))return t;var d={};d[l]=e,d[h]=t,d[p]=n,o.push(d)}return t}function H(t,e,n,r){if(null==t)return t===e;if(I(e)||x(N,e)){var o=[];return U(t,e,n,r,o),!o.length}return x(RegExp,e)?e.test(t):e===Number||e===Date?t[b]===e&&!isNaN(t):t===e||P(e)&&x(e,t)||t[b]===e}function z(t,e,n,r){for(var o=0,i=e[u].length;o<i;o++){var s,c=e[u][o],f=c[a],y=P(f)?f:function(t,e){return'assertion "'+f+'" returned '+D(t)+" for value "+D(e)};try{s=c.call(e,t)}catch(v){s=v}if(!0!==s){var v={};v[d]=y.call(e,s,t),v[l]=c,v[h]=t,v[p]=n,r.push(v)}}}function J(t,e){if(!t||x(N,t[b]))return t;for(var n=F(e||[]),r=[],o=0,i=n.length;o<i;o++){var u=n[o];x(N,u)&&u[f](t)&&r.push(u)}var a=r.length;return 1===a?r[0](t):(a>1&&console.warn("Ambiguous model for value "+D(t)+", could be "+r.join(" or ")),t)}L(N[t]=function(e){var n=function(t){if(x(n,t))return t;if(!x(n,this))return new n(t);A(this,t=C(n[w],t),!0);var e=V(n,this,n[i]);return n[s](e),e};return L(n,Object[m]),q(n,arguments,N[t]),n},B);var K=N[t][m];K.defaults=function(t){return A(this[m],t),this},K.toString=function(t){return D(this[i],t)},T(K,c,function(t,e,n,r){if(E(t))U(t,this[i],e,n,r);else{var o={};o[l]=this,o[h]=t,o[p]=e,r.push(o)}z(t,this,e,r)});function V(t,e,n,i){if(!I(n))return J(e,n);var u=x(Object,e)?e:{},a=Object.create(Object.getPrototypeOf(u));for(var s in u)!u.hasOwnProperty(s)||s in n||(a[s]=u[s]);return Object.keys(n).forEach(function(s){var c=i?i+"."+s:s,f=N[r](s),l=n[s];I(l)||!u[s]||x(N,u[s][b])||(u[s]=J(u[s],l)),S(a,s,{get:function(){return V(t,u[s],l,c)},set:function(n){if(f&&void 0!==u[s]){var r={};r[d]="cannot redefine constant "+s,t[y].push(r)}var o=V(t,n,l,c);U(o,l,c,[],t[y]);var i=u[s];u[s]=o,z(e,t,c,t[y]),t[y].length&&(u[s]=i,t[g]())},enumerable:!N[o](s)})}),a}L(N[e]=function(t){var n=function(t){t=C(n[w],t);var e;if(n[s](t),k)e=new Proxy(t,{get:function(t,e){return e===b?n:O.indexOf(e)>=0?G(t,e,n):t[e]},set:function(t,e,r){W(t,e,r,n)},getPrototypeOf:function(){return n[m]}});else{e=Object.create(Array[m]);for(var r in t)t.hasOwnProperty(r)&&$(e,t,r,n);S(e,"length",{get:function(){return t.length}}),S(e,"toJSON",{value:function(){return t}}),O.forEach(function(r){T(e,r,G(t,r,n,e))}),R(e,n)}return e};return L(n,Array[m]),q(n,arguments,N[e]),n},N[m]);var X=N[e][m];X.toString=function(t){return e+" of "+D(this[i],t)},T(X,c,function(t,n,r,o){if(x(Array,t))for(var u=0,a=t.length;u<a;u++)t[u]=U(t[u],this[i],(n||e)+"["+u+"]",r,o,!0);else{var s={};s[l]=this,s[h]=t,s[p]=n,o.push(s)}z(t,this,n,o)});function $(t,e,n,r){S(t,n,{enumerable:!0,get:function(){return e[n]},set:function(t){W(e,n,t,r)}})}function G(t,e,n,r){return function(){var o=t.slice();if(Array[m][e].apply(o,arguments),n[s](o),!k)for(var u in o)!o.hasOwnProperty(u)||u in r||$(r,t,u,n);for(var a=Array[m][e].apply(t,arguments),c=0,f=t.length;c<f;c++)t[c]=J(t[c],n[i]);return a}}function W(t,n,r,o){var u=e+"["+n+"]";parseInt(n)===+n&&n>=0&&(r=U(r,o[i],u,[],o[y],!0));var a=t.slice();a[n]=r,z(a,o,u,o[y]),o[g](),t[n]=r}L(N[n]=function(){var t=function(e){e=C(t[w],e);var n=t[i],r=function(){var r,o=[];if(A(o,n.defaults),A(o,M(arguments)),o.length>n[_].length){var i={};i[l]=D(e)+" to be called with "+n[_].length+" "+_,i[h]=o.length,t[y].push(i)}return n[_].forEach(function(e,n){o[n]=U(o[n],e,_+"["+n+"]",[],t[y],!0)}),z(o,t,_,t[y]),t[y].length||(r=e.apply(this,o),"return"in n&&(r=U(r,n.return,"return value",[],t[y],!0))),t[g](),r};return R(r,t),r};L(t,Function[m]);var e={};return e[_]=M(arguments),q(t,[e],N[n]),t},N[m]);var Z=N[n][m];return Z.toString=function(t){var e=n+"("+this[i][_].map(function(e){return D(e,t)}).join(",")+")";return"return"in this[i]&&(e+=" => "+D(this[i].return)),e},Z.return=function(t){return this[i].return=t,this},Z.defaults=function(){return this[i].defaults=M(arguments),this},T(Z,c,function(t,e,r,o){if(!P(t)){var i={};i[l]=n,i[h]=t,i[p]=e,o.push(i)}}),N}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("objectmodel"),require("axios")):"function"==typeof define&&define.amd?define(["objectmodel","axios"],e):t.modelPersist=e(t.Model,t.axios)}(this,function(t,e){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=(function(){function t(t){this.value=t}function e(e){var n,r;function o(n,r){try{var u=e[n](r),a=u.value;a instanceof t?Promise.resolve(a.value).then(function(t){o("next",t)},function(t){o("throw",t)}):i(u.done?"return":"normal",u.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(t,e){return new Promise(function(i,u){var a={key:t,arg:e,resolve:i,reject:u,next:null};r?r=r.next=a:(n=r=a,o(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},a=function(){function t(e){if(r(this,t),null===e||"object"!==(void 0===e?"undefined":n(e)))throw new TypeError("expecting object literal");for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o])}return o(t,[{key:"toJSON",value:function(){return JSON.stringify(this)}}]),t}(),s=function(){function t(){r(this,t)}return o(t,[{key:"defineInterfaceMethod",value:function(){throw new Error("Class should implement this method")}}]),t}(),c=function(t){i(e,s);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"locate",value:function(t){this.defineInterfaceMethod()}},{key:"locateById",value:function(t){this.defineInterfaceMethod()}},{key:"getIdPropName",value:function(){this.defineInterfaceMethod()}},{key:"getModelId",value:function(t){this.defineInterfaceMethod()}},{key:"isEmptyModelId",value:function(t){this.defineInterfaceMethod()}},{key:"getModelManagerClass",value:function(){this.defineInterfaceMethod()}},{key:"getRepositoryClass",value:function(){this.defineInterfaceMethod()}},{key:"getInputTransformerClass",value:function(){this.defineInterfaceMethod()}},{key:"getOutputTransformerClass",value:function(){this.defineInterfaceMethod()}}]),e}(),f=function(t){i(e,s);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"get",value:function(t,e){this.defineInterfaceMethod()}},{key:"save",value:function(t){this.defineInterfaceMethod()}},{key:"remove",value:function(t){this.defineInterfaceMethod()}}]),e}(),l=function(t){i(e,s);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"findOne",value:function(t){this.defineInterfaceMethod()}}]),e}(),h=function(t){i(e,s);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"transform",value:function(t){this.defineInterfaceMethod()}}]),e}(),p=function(t){i(e,h);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"transform",value:function(t){return t}}]),e}(),d=new(function(){function e(){r(this,e)}return o(e,[{key:"getData",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&!this.isModel(t))throw new TypeError("expecting model to be Model, got "+(void 0===t?"undefined":n(t)));var e={};if(this.isModel(t)){for(var r in t)if(t.hasOwnProperty(r)){"function"==typeof Object.getOwnPropertyDescriptor(t,r).get&&void 0!==t[r]&&(e[r]=this._getObjectValue(t,r))}}else if(this.isRawObject(t))for(var o in t)t.hasOwnProperty(o)&&(e[o]=this._getObjectValue(t,o));return e}},{key:"isModel",value:function(e){return null!==e&&"object"===(void 0===e?"undefined":n(e))&&(e instanceof t||"function"==typeof e.constructor&&e.constructor instanceof t)}},{key:"isRawObject",value:function(t){return null!==t&&"object"===(void 0===t?"undefined":n(t))&&t.constructor===Object}},{key:"_getObjectValue",value:function(t,e){var n=this,r=void 0;return Array.isArray(t[e])?(r=[],t[e].forEach(function(t){r.push(n.isRawObject(t)||n.isModel(t)?n.getData(t,!0):t)})):(r=t[e],r=this.isRawObject(r)||this.isModel(r)?this.getData(r,!0):r),r}}]),e}()),y=function(t){i(e,h);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"transform",value:function(t){var e={};return d.isModel(t)?e=d.getData(t):(t instanceof a||d.isRawObject(t))&&(e=t),e}}]),e}(),v=function(t){i(e,c);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"getIdPropName",value:function(){return"id"}},{key:"getModelId",value:function(t){if(null===t||"object"!==(void 0===t?"undefined":n(t)))throw new Error("argument is not Object");return t[this.getIdPropName()]}},{key:"isEmptyModelId",value:function(t){var e=this.getModelId(t);return null===e||void 0===e||"string"==typeof e&&0===e.length}},{key:"getInputTransformerClass",value:function(){return p}},{key:"getOutputTransformerClass",value:function(){return y}}]),e}(),g=function(t){i(e,f);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"createInputTransformer",value:function(){return new(this._locator.getInputTransformerClass())}},{key:"createOutputTransformer",value:function(){return new(this._locator.getOutputTransformerClass())}}]),e}(),m=function(t){i(e,g);function e(t,n){r(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o._locator=t,o._client=n,o}return o(e,[{key:"get",value:function(t,e){var n=this;return new Promise(function(r,o){n._client.get(n._locator.locateById(t),n._getRequestOptions()).then(function(t){r(new e(n.createInputTransformer().transform(t.data)))}).catch(function(t){o(t)})})}},{key:"save",value:function(t){var e=this;return new Promise(function(r,o){var i=e._getRequestOptions();(e._locator.isEmptyModelId(t)?e._client.post:e._client.put)(e._locator.locate(t),e.createOutputTransformer().transform(t),i).then(function(t){r(null!==t.data&&"object"===n(t.data)?t.data:{})}).catch(function(t){o(t)})})}},{key:"remove",value:function(t){var e=this;return new Promise(function(r,o){e._client.delete(e._locator.locate(t),e._getRequestOptions()).then(function(t){r(null!==t.data&&"object"===n(t.data)?t.data:{})}).catch(function(t){o(t)})})}},{key:"_getRequestOptions",value:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}]),e}(),b=function(t){i(e,l);function e(t,n,o,i){r(this,e);var a=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a._modelClass=t,a._locator=n,a._manager=o,a._client=i,a}return o(e,[{key:"findOne",value:function(t){return this._manager.get(t,this._modelClass)}}]),e}(),w=function(t){i(e,v);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"getBaseURL",value:function(){return""+this.hostPath+this.basePath}},{key:"getUrl",value:function(t){return""+this.getBaseURL()+t}},{key:"locate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isEmptyModelId(t)?this.getBaseURL():this.locateById(this.getModelId(t),e)}},{key:"locateById",value:function(t){return this.getUrl("/"+t)}},{key:"getModelManagerClass",value:function(){return m}},{key:"getRepositoryClass",value:function(){return b}},{key:"hostPath",get:function(){return""}},{key:"basePath",get:function(){throw new Error("basePath should be defined in HTTPLocator")}},{key:"headers",get:function(){return{}}}]),e}(),_=function(t){i(e,s);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"createManager",value:function(t){this.defineInterfaceMethod()}},{key:"createRepository",value:function(t,e){this.defineInterfaceMethod()}}]),e}(),O=new(function(){function t(){r(this,t),this.options={}}return o(t,[{key:"options",get:function(){return Object.assign({},this._options)},set:function(t){this._options=Object.assign({},t)}}]),t}()),j=function(t){var r={};return null!==t&&"object"===(void 0===t?"undefined":n(t))&&Object.keys(t.headers).length>0&&(r.headers=Object.assign({},t.headers)),e.create(Object.assign({},O.options,r))},k=new(function(t){i(e,_);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"createManager",value:function(t){return new(t.getModelManagerClass())(t,j(t))}},{key:"createRepository",value:function(t,e){return new(e.getRepositoryClass())(t,e,this.createManager(e),j(e))}}]),e}()),S=function(t){i(e,h);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(),x=function(e){i(n,g);function n(t){r(this,n);var e=u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e._locator=t,e}return o(n,[{key:"get",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(o,i){try{o(n.getSync(t,e,r))}catch(t){i(t)}})}},{key:"getSync",value:function(t,e){var n=this._locator.locateById(t),r=this._locator.storage.getItem(n);if(null===r)throw new TypeError("Item with the key ["+n+"] was not found");return new e(this.createInputTransformer().transform(JSON.parse(r)))}},{key:"getAll",value:function(e){var n=this,r=new t.Array(e),o=[];return this.getKeys().forEach(function(t){o.push(n.getSync(t,e))}),r(o)}},{key:"save",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r,o){try{e.saveSync(t,n),r({})}catch(t){o(t)}})}},{key:"saveSync",value:function(t){this._locator.storage.setItem(this._locator.locate(t),JSON.stringify(this.createOutputTransformer().transform(t))),this._persistId(this._locator.getModelId(t))}},{key:"remove",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r,o){try{e.removeSync(t,n),r({})}catch(t){o(t)}})}},{key:"removeSync",value:function(t){this._locator.storage.removeItem(this._locator.locate(t)),this._removeId(this._locator.getModelId(t))}},{key:"has",value:function(t){return null!==this._locator.storage.getItem(this._locator.locateById(t))}},{key:"getKeys",value:function(){var t=this,e=[],n=this._locator.storage.getItem(this._getIdsKey());if(null!==n){var r=void 0;try{r=JSON.parse(n)}catch(t){r=[]}Array.isArray(r)&&r.forEach(function(n){null!==n&&t.has(n)&&"function"==typeof n.toString&&-1===e.indexOf(n.toString())&&e.push(n.toString())})}return e}},{key:"_getIdsKey",value:function(){return"__ids__"+this._locator.basePath}},{key:"_persistId",value:function(t){if(null!==t&&this.has(t)&&"function"==typeof t.toString){var e=this.getKeys();-1===e.indexOf(t.toString())&&(e.push(t.toString()),this._locator.storage.setItem(this._getIdsKey(),JSON.stringify(e)))}}},{key:"_removeId",value:function(t){var e=this.getKeys().filter(function(e){return e.toString()!==t.toString()});this._locator.storage.setItem(this._getIdsKey(),JSON.stringify(e))}}]),n}(),P=function(t){i(e,l);function e(t,n,o){r(this,e);var i=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i._modelClass=t,i._locator=n,i._manager=o,i}return o(e,[{key:"findOne",value:function(t){return this._manager.get(t,this._modelClass)}},{key:"findOneSync",value:function(t){return this._manager.getSync(t,this._modelClass)}},{key:"getAll",value:function(){return this._manager.getAll(this._modelClass)}}]),e}(),E=function(t){i(e,v);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"locate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isEmptyModelId(t))throw new Error("Model Id cannot be empty in StorageLocator");return this.locateById(this.getModelId(t),e)}},{key:"locateById",value:function(t){return this.basePath+"/"+t}},{key:"getModelManagerClass",value:function(){return x}},{key:"getRepositoryClass",value:function(){return P}},{key:"storage",get:function(){throw new Error("storage should be defined in StorageLocator")}},{key:"basePath",get:function(){throw new Error("basePath should be defined in StorageLocator")}}]),e}(),I=function(t){i(e,E);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"storage",get:function(){return localStorage}}]),e}(),M=function(t){i(e,E);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"storage",get:function(){return sessionStorage}}]),e}(),C=new(function(t){i(e,_);function e(){return r(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,[{key:"createManager",value:function(t){return new(t.getModelManagerClass())(t)}},{key:"createRepository",value:function(t,e){return new(e.getRepositoryClass())(t,e,this.createManager(e))}}]),e}()),A={Interface:s,Model:t,DynamicModel:a,modelHelpers:d,LocatorInterface:c,ModelManagerInterface:f,RepositoryInterface:l,LocatorAbstract:v,ModelManagerAbstract:g,HTTPLocatorAbstract:w,HTTPModelManager:m,HTTPRepository:b,httpFactory:k,StorageLocatorAbstract:E,LocalStorageLocatorAbstract:I,SessionStorageLocatorAbstract:M,StorageModelManager:x,StorageRepository:P,storageFactory:C,http:{createClient:j,config:O},transformer:{TransformerInterface:h,InputTransformer:p,OutputTransformer:y,CustomTransformer:S,mergeTransformers:function(t){return function(e){i(n,h);function n(){return r(this,n),u(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,[{key:"transform",value:function(e){var n=e;return t.forEach(function(t){n=t.transform(n)}),n}}]),n}()}}};return function t(e){Object.keys(e).forEach(function(r){var o=e[r],i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(e,r,{enumerable:!0,configurable:!1,writable:!1,value:i.value}),null!==o&&"object"===(void 0===o?"undefined":n(o))&&o.constructor===Object&&t(o)})}(A),A}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ElementView=e()}(this,function(){"use strict";var t=e;function e(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=e.prototype.handle.bind(this)}e.prototype.root=function(t){var e,n=this.listenerMap;if(this.rootElement){for(e in n[1])n[1].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!1)}if(!t||!t.addEventListener)return this.rootElement&&delete this.rootElement,this;this.rootElement=t;for(e in n[1])n[1].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!1);return this},e.prototype.captureForType=function(t){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(t)},e.prototype.on=function(t,e,i,u){var a,s,c,f;if(!t)throw new TypeError("Invalid event type: "+t);if("function"==typeof e&&(u=i,i=e,e=null),void 0===u&&(u=this.captureForType(t)),"function"!=typeof i)throw new TypeError("Handler must be a type of Function");return a=this.rootElement,(s=this.listenerMap[u?1:0])[t]||(a&&a.addEventListener(t,this.handle,u),s[t]=[]),e?/^[a-z]+$/i.test(e)?(f=e,c=r):/^#[a-z0-9\-_]+$/i.test(e)?(f=e.slice(1),c=o):(f=e,c=n):(f=null,c=function(t,e){return this.rootElement===window?e===document:this.rootElement===e}.bind(this)),s[t].push({selector:e,handler:i,matcher:c,matcherParam:f}),this},e.prototype.off=function(t,e,n,r){var o,i,u,a,s;if("function"==typeof e&&(r=n,n=e,e=null),void 0===r)return this.off(t,e,n,!0),this.off(t,e,n,!1),this;if(u=this.listenerMap[r?1:0],!t){for(s in u)u.hasOwnProperty(s)&&this.off(s,e,n);return this}if(!(a=u[t])||!a.length)return this;for(o=a.length-1;o>=0;o--)i=a[o],e&&e!==i.selector||n&&n!==i.handler||a.splice(o,1);return a.length||(delete u[t],this.rootElement&&this.rootElement.removeEventListener(t,this.handle,r)),this},e.prototype.handle=function(t){var e,n,r,o,i,u,a=t.type,s=[],c="ftLabsDelegateIgnore";if(!0!==t[c]){switch(3===(u=t.target).nodeType&&(u=u.parentNode),r=this.rootElement,t.eventPhase||(t.target!==t.currentTarget?3:2)){case 1:s=this.listenerMap[1][a];break;case 2:this.listenerMap[0]&&this.listenerMap[0][a]&&(s=s.concat(this.listenerMap[0][a])),this.listenerMap[1]&&this.listenerMap[1][a]&&(s=s.concat(this.listenerMap[1][a]));break;case 3:s=this.listenerMap[0][a]}for(n=s.length;u&&n;){for(e=0;e<n&&(o=s[e]);e++)if(o.matcher.call(u,o.matcherParam,u)&&(i=this.fire(t,u,o)),!1===i)return t[c]=!0,void t.preventDefault();if(u===r)break;n=s.length,u=u.parentElement}}},e.prototype.fire=function(t,e,n){return n.handler.call(e,t,e)};var n=function(t){if(t){var e=t.prototype;return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}}(Element);function r(t,e){return t.toLowerCase()===e.tagName.toLowerCase()}function o(t,e){return t===e.id}e.prototype.destroy=function(){this.off(),this.root()};var i=function(e){return new t(e)};i.Delegate=t;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=(function(){function t(t){this.value=t}function e(e){var n,r;function o(n,r){try{var u=e[n](r),a=u.value;a instanceof t?Promise.resolve(a.value).then(function(t){o("next",t)},function(t){o("throw",t)}):i(u.done?"return":"normal",u.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(t,e){return new Promise(function(i,u){var a={key:t,arg:e,resolve:i,reject:u,next:null};r?r=r.next=a:(n=r=a,o(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();return function(){s(t,[{key:"events",get:function(){return{}}},{key:"delegate",get:function(){return this._delegate}},{key:"root",get:function(){return this._root}}],[{key:"Delegate",get:function(){return i.Delegate}}]);function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"view";a(this,t),this._listenerContext=n,this._root=e,this._delegate=new t.Delegate(e),this._attachListeners(this.events)}return s(t,[{key:"resetEvents",value:function(){this._delegate.off(),this._attachListeners(this.events)}},{key:"_attachListeners",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var r in t)t.hasOwnProperty(r)&&function(){var o=t[r];switch(void 0===o?"undefined":u(o)){case"function":null===n?e._delegate.on(r,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];o.apply(e._getListenerContext(),n)}):"string"==typeof n&&e._delegate.on(r,n,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];o.apply(e._getListenerContext(),n)});break;case"object":null===n&&e._attachListeners(o,r)}}()}},{key:"_getListenerContext",value:function(){var t=void 0;switch(this._listenerContext){case"view":t=this;break;case"root":t=this.root;break;case"host":t=this.root.host;break;default:t=this}return t}}]),t}()}),function(t){var e=!1,n=[];t.addEventListener("WebComponentsReady",function r(){e=!0,n.forEach(function(t){t()}),n=[],t.removeEventListener("WebComponentsReady",r)}),t.WCReady=function(t){"function"==typeof t&&(e?t():n.push(t))}}(window);
//# sourceMappingURL=core.min.js.map
